<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Getting Started With Nix, Introduction - Nasir Hussain&#39;s Blog</title>
  <meta name="description" content="Recently, I installed NixOS on one of my machines to explore the Nix ecosystem and how it makes the process of creating deterministic and reproducible builds efficient and simpler.
This Blogpost series provides an introduction to the Nix package manager and how it works.
What is Nix? Nix is a powerful, purely functional package manager designed for reliable and reproducible package management.
Nix is also the primary package manager for NixOS and can be installed as an additional package manager on Linux and Mac OS X.">
  <meta name="author" content="Nasir Hussain"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Nasir Hussain\u0027s Blog",
    
    "url": "https:\/\/nasirhm.github.io"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/nasirhm.github.io"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/nasirhm.github.io",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/nasirhm.github.io\/2020\/getting-started-with-nix-introduction\/",
          "name": "Getting started with nix, introduction"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Nasir Hussain"
  },
  "headline": "Getting Started With Nix, Introduction",
  "description" : "Recently, I installed NixOS on one of my machines to explore the Nix ecosystem and how it makes the process of creating deterministic and reproducible builds efficient and simpler.\nThis Blogpost series provides an introduction to the Nix package manager and how it works.\nWhat is Nix? Nix is a powerful, purely functional package manager designed for reliable and reproducible package management.\nNix is also the primary package manager for NixOS and can be installed as an additional package manager on Linux and Mac OS X.",
  "inLanguage" : "en",
  "wordCount":  464 ,
  "datePublished" : "2020-12-16T01:58:48",
  "dateModified" : "2020-12-16T01:58:48",
  "image" : "https:\/\/nasirhm.github.io\/img\/avatar-icon.png",
  "keywords" : [ "nix, nix-packages" ],
  "mainEntityOfPage" : "https:\/\/nasirhm.github.io\/2020\/getting-started-with-nix-introduction\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/nasirhm.github.io",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/nasirhm.github.io\/img\/avatar-icon.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Getting Started With Nix, Introduction" />
<meta property="og:description" content="Recently, I installed NixOS on one of my machines to explore the Nix ecosystem and how it makes the process of creating deterministic and reproducible builds efficient and simpler.
This Blogpost series provides an introduction to the Nix package manager and how it works.
What is Nix? Nix is a powerful, purely functional package manager designed for reliable and reproducible package management.
Nix is also the primary package manager for NixOS and can be installed as an additional package manager on Linux and Mac OS X.">
<meta property="og:image" content="https://nasirhm.github.io/img/avatar-icon.png" />
<meta property="og:url" content="https://nasirhm.github.io/2020/getting-started-with-nix-introduction/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Nasir Hussain&#39;s Blog" />

  <meta name="twitter:title" content="Getting Started With Nix, Introduction" />
  <meta name="twitter:description" content="Recently, I installed NixOS on one of my machines to explore the Nix ecosystem and how it makes the process of creating deterministic and reproducible builds efficient and simpler.
This Blogpost â€¦">
  <meta name="twitter:image" content="https://nasirhm.github.io/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@_nasirhm_" />
  <meta name="twitter:creator" content="@_nasirhm_" />
  <link href='https://nasirhm.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.74.3" />
  <link rel="alternate" href="https://nasirhm.github.io/index.xml" type="application/rss+xml" title="Nasir Hussain&#39;s Blog"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://nasirhm.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://nasirhm.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://nasirhm.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://nasirhm.github.io">Nasir Hussain&#39;s Blog</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="About" href="/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Talks" href="/talks/">Talks</a>
            </li>
          
        
          
            <li>
              <a title="Categories" href="/categories/">Categories</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags/">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Nasir Hussain&#39;s Blog" href="https://nasirhm.github.io">
            <img class="avatar-img" src="https://nasirhm.github.io/img/avatar-icon.png" alt="Nasir Hussain&#39;s Blog" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>Getting Started With Nix, Introduction</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Recently, I installed NixOS on one of my machines to explore the Nix ecosystem, and to learn how it makes the process of creating deterministic and reproducible builds efficient
and simpler.</p>
<p>This blog post series provides an introduction to the Nix package manager and how it works.</p>
<h2 id="what-is-nix">What is Nix?</h2>
<p>Nix is a powerful, purely functional package manager designed to be a reliable and reproducible package-management system.</p>
<p>Nix is the primary package manager for <strong>NixOS</strong> and can also be installed as an additional package manager on Linux and OS X.</p>
<p>It offers the following features:</p>
<ul>
<li>Atomic Upgrades and Rollbacks;</li>
<li>Multiple versions of a package;</li>
<li>Multi-user package management, the ability to install certain packages for certain users only;</li>
<li>Effortless setup of build environments for a package, providing functional builds;</li>
<li>and many more.</li>
</ul>
<h2 id="how-nix-works">How Nix works</h2>
<p>Packages in the Nix ecosystem are built from Nix expressions, which is a simple functional language that enables the packaging aspect for Nix (the package manager).</p>
<p>A Nix expression describes everything that goes into a package build, e.g: other packages (dependencies), sources, config files, environment variables, external patches, etc.</p>
<p>A Nix expression results in a derivation, which is a build of the expression, that takes some inputs and produces an output. Outputs are almost always some <code>/nix/store/some-hash-pkg-name</code> path.</p>
<p>Below is an abstract diagram of how Nix expressions work:</p>
<p><img src="/images/posts-static/nix-pkg-101/nix-expression-101.png" alt="How Nix Expressions work"></p>
<p>As you can see, we&rsquo;ve got an application written in C language and we&rsquo;re creating a Nix expression for it, which includes some code patches, dependencies, configurations. The resultant derivation is then created in the Nix Store.</p>
<h3 id="the-essence-of-nix-in-comparison-to-traditional-linux-systems">The essence of Nix in comparison to traditional Linux systems:</h3>
<p>Nix emerges from the idea that <strong>FHS (Filesystem Hierarchy Standard) is fundamentally incompatible with reproducibility</strong>. Let me explain now:</p>
<p>With traditional Linux systems and package managers, you&rsquo;ll find paths like <code>/usr/bin/python</code> or <code>/lib/libm.so</code> where packages are installed. But there are a lot of things that we don&rsquo;t know about the file that&rsquo;s there, for example:</p>
<ul>
<li>What&rsquo;s the version of the package the binary/library came from?</li>
<li>What are the libraries it uses?</li>
<li>What configure flags were enabled during the build?</li>
</ul>
<p>These questions have a significant effect on the resulted build and can also change the behavior of the application.</p>
<p>Indeed, there are ways to get around this in FHS. We can link directly to <code>/lib/libm.so</code> or use <code>/usr/bin/python3.7</code> in our shebang, but then there will still be a lot of unknowns.</p>
<p>Nix plays a pretty essential role in fixing it by isolating the build itself resulting in reproducible build artifacts.</p>
<p>On Nix systems, the file paths look like this: <code>/nix/store/&lt;hash&gt;-&lt;name&gt;-&lt;version&gt;</code>.</p>
<p>If there&rsquo;s something you&rsquo;re unable to grasp...No worries! We&rsquo;ll be exploring Nix further in the future because this is only the first of the series.</p>
<p>Thank you for reading. In the next posts, we will be installing Nix and building some Nix expressions ourselves.</p>


        
          <div class="blog-tags">
            
              <a href="https://nasirhm.github.io/tags/nix/">nix</a>&nbsp;
            
              <a href="https://nasirhm.github.io/tags/nix-packages/">nix-packages</a>&nbsp;
            
          </div>
        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=https%3a%2f%2fnasirhm.github.io%2f2020%2fgetting-started-with-nix-introduction%2f&amp;text=Getting%20Started%20With%20Nix%2c%20Introduction&amp;via=_nasirhm_" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fnasirhm.github.io%2f2020%2fgetting-started-with-nix-introduction%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=https%3a%2f%2fnasirhm.github.io%2f2020%2fgetting-started-with-nix-introduction%2f&amp;title=Getting%20Started%20With%20Nix%2c%20Introduction" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fnasirhm.github.io%2f2020%2fgetting-started-with-nix-introduction%2f&amp;title=Getting%20Started%20With%20Nix%2c%20Introduction" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fnasirhm.github.io%2f2020%2fgetting-started-with-nix-introduction%2f&amp;title=Getting%20Started%20With%20Nix%2c%20Introduction" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fnasirhm.github.io%2f2020%2fgetting-started-with-nix-introduction%2f&amp;description=Getting%20Started%20With%20Nix%2c%20Introduction" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

              </div>
            </section>
        

        
          

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://nasirhm.github.io/2020/badge-i-voted-f33/" data-toggle="tooltip" data-placement="top" title="Gotta Badge &#39;Em All: I Voted: Fedora 33 -- Participated in the Fedora 33 Elections!">&larr; Previous Post</a>
            </li>
          
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:nasirhussainm14@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/nasirhm" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/_nasirhm_" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/nasirhm" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="nasirhm.github.io">Nasir Hussain</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2020
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://nasirhm.github.io">Nasir Hussain&#39;s Blog</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.74.3</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://nasirhm.github.io/js/main.js"></script>
<script src="https://nasirhm.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://nasirhm.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

